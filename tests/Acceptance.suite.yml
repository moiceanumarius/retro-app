# Codeception Acceptance Test Suite Configuration
#
# Perform tests in a browser by either emulating one using PhpBrowser, or in a real browser using WebDriver.
# If you need both WebDriver and PhpBrowser tests, create a separate suite for each.

actor: AcceptanceTester
modules:
    enabled:
        - WebDriver:
            url: 'http://nginx'
            browser: chrome
            host: selenium
            port: 4444
            window_size: 1920x1080
            capabilities:
                browserName: chrome
                chromeOptions:
                    args:
                        - --no-sandbox
                        - --disable-dev-shm-usage
                        - --disable-gpu
                        - --start-maximized
                        - --window-size=1920,1080
        - Db:
            dsn: 'mysql:host=mysql;dbname=retro_app'
            user: 'retro_user'
            password: 'retro_password'
            dump: tests/Support/Data/dump.sql
            populate: false
            cleanup: false
            reconnect: true
            waitlock: 0
# Add Codeception\Step\Retry trait to AcceptanceTester to enable retries
step_decorators:
    - Codeception\Step\ConditionalAssertion
    - Codeception\Step\TryTo
    - Codeception\Step\Retry
