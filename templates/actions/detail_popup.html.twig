<!-- Action Description -->
<div class="action-detail-group">
    <label class="action-detail-label">Description</label>
    <div class="action-description-detail">
        {{ action.description }}
    </div>
</div>

<!-- Assignee Information -->
<div class="action-detail-group">
    <label class="action-detail-label">Assigned To</label>
    {% if action.assignedTo %}
        <div class="action-assignee-detail">
            <div class="action-assignee-avatar">
                {{ action.assignedTo.email|slice(0,1)|upper }}
            </div>
            <div class="action-assignee-info">
                <div class="action-assignee-name">{{ action.assignedTo.email }}</div>
                <div class="action-assignee-role">
                    {% if action.retrospective.team.owner == action.assignedTo %}
                        Team Owner
                    {% else %}
                        Team Member
                    {% endif %}
                </div>
            </div>
        </div>
    {% else %}
        <div style="color: #9ca3af; font-style: italic; padding: 1rem; background: #f9fafb; border-radius: 8px;">
            No one assigned to this action
        </div>
    {% endif %}
</div>

<!-- Action Metadata -->
<div class="action-metadata">
    <div class="action-metadata-item">
        <div class="label">Status</div>
        <div class="value">
            <span class="status-badge {{ action.status }}">
                {{ action.status|replace({'-': ' '})|title }}
            </span>
        </div>
    </div>

    <div class="action-metadata-item">
        <div class="label">Due Date</div>
        <div class="value">
            {% if action.dueDate %}
                {{ action.dueDate|date('l, F j, Y') }}
            {% else %}
                <span style="color: #9ca3af;">No due date set</span>
            {% endif %}
        </div>
    </div>

    <div class="action-metadata-item">
        <div class="label">Created By</div>
        <div class="value">{{ action.createdBy.email }}</div>
    </div>

    <div class="action-metadata-item">
        <div class="label">Created At</div>
        <div class="value">{{ action.createdAt|date('M d, Y H:i') }}</div>
    </div>

    {% if action.completedAt %}
    <div class="action-metadata-item">
        <div class="label">Completed At</div>
        <div class="value">{{ action.completedAt|date('M d, Y H:i') }}</div>
    </div>
    {% endif %}

    <div class="action-metadata-item">
        <div class="label">Last Updated</div>
        <div class="value">{{ action.updatedAt|date('M d, Y H:i') }}</div>
    </div>
</div>

<!-- Retrospective Information -->
<div class="action-detail-group">
    <label class="action-detail-label">From Retrospective</label>
    <div style="background: #f9fafb; border-radius: 8px; padding: 1rem; border: 1px solid #e5e7eb;">
        <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.75rem;">
            <div class="action-assignee-avatar" style="background: #10b981;">
                <svg width="16" height="16" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd"></path>
                </svg>
            </div>
            <div>
                <div style="font-weight: 600; color: #1f2937;">{{ action.retrospective.title }}</div>
                <div style="font-size: 0.875rem; color: #6b7280;">Team: {{ action.retrospective.team.name }}</div>
            </div>
        </div>
        <div style="display: flex; gap: 0.5rem;">
            <a href="{{ path('app_retrospectives_show', {'id': action.retrospective.id}) }}" 
               target="_blank"
               style="display: inline-flex; align-items: center; gap: 0.25rem; padding: 0.5rem 1rem; background: #667eea; color: white; text-decoration: none; border-radius: 6px; font-size: 0.875rem; font-weight: 500; transition: all 0.2s;">
                <svg width="14" height="14" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                </svg>
                View Retrospective
            </a>
            <span style="display: inline-flex; align-items: center; gap: 0.25rem; padding: 0.5rem 1rem; background: #f3f4f6; color: #6b7280; border-radius: 6px; font-size: 0.875rem;">
                <svg width="14" height="14" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"></path>
                </svg>
                Action #{{ action.id }}
            </span>
        </div>
    </div>
</div>

<style>
.status-badge {
    padding: 0.375rem 0.75rem;
    border-radius: 12px;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    display: inline-block;
}

.status-badge.pending {
    background: #64748b;
    color: white;
}

.status-badge.open {
    background: #ff6b6b;
    color: white;
}

.status-badge.in-progress {
    background: #ffd93d;
    color: #744210;
}

.status-badge.completed {
    background: #6bcf7f;
    color: white;
}

.status-badge.cancelled {
    background: #94a3b8;
    color: white;
}
</style>
